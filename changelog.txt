
cd /mnt/c/code/riunioni/
bin/rails server --port=3000



versione 1.0.0 modifiche dal 28/03/2020 al 28/03/2020 su versione master (greenlight release 2.5.2)

1) creato  .env  solo in ambiente development  (configurato server BBB e abilitata creazione accounts, non va copiato)

2) generate pagine statiche con comando unix: 

rails generate controller Info termini privacy cookies prezzi informazioni help faq contatti

crea i files: 
  app/views/info
  app/views/info/termini.html.erb
  app/views/info/privacy.html.erb
  app/views/info/cookies.html.erb
  app/views/info/prezzi.html.erb
  app/views/info/informazioni.html.erb
  app/views/info/help.html.erb
  app/views/info/faq.html.erb
  app/views/info/contatti.html.erb
  test/controllers/info_controller_test.rb
  app/helpers/info_helper.rb
  app/assets/javascripts/info.coffee
  app/assets/stylesheets/info.scss

modifica anche il file  config/route.rb aggiungedo dei percorsi che poi vanno modificati 
config/routes.rb    (modificati percorsi per le pagine statiche del nuovo controller Info)
  
tutti i file sotto wiews/info vanno aggiornati per caricare i testi da visualizzare nel formato corretto
app/views/info/*.erb

3) aggiunta la directory con i testi delle pagine statiche (uno per pagina)  e terms.md

config/info/*.md
config/terms.md     

4) modifiche alle immagini

public/favicon.ico                       (sostituita favicon.ico)
public/riunioni_e_lezioni_online.jpg     (aggiunta immagine per metatag open graphs og:image)
public/strumenti_per_videoconferenze.jpg (per home page)
public/users/user_placeholder.jpg        (user avatar)

app/assets/images/bbb_logo.png           (sostituita)
app/assets/images/logo_with_text.png     (sostituita)
 
5) modificato session_store.rb per nome cookies e durata

config/initialiazers/session_store.rb  (modificato prefisso per i cookies,impostata espiration_time 30 giorni)


6) modifiche alla grafica e ai link di home page e negli include

app/views/main/index.html.erb           (inserita background image e bottoni signin/signup)

app/views/shared/_header.html.erb       (nel menu utente rimosso link ad help "greenlight" sostituito con link alla pagina help
                                         link report issue sostituito con link alla pagina contatti
                                         inserita immagine avatar)
                                         
app/views/shared/_footer.html.erb       (rimosso "greenlight", aggiunto paragrafo con link e bottoni social)

app/wiews/main/components/_features.html.erb (prima era app/views/shared/_features.html.erb  rimosso "greenlight", 
                                          aggiunto paragrafo, modificati box con icone, predisposti tasti social)


app/views/users/components/account.html.erb (prima era app/views/shared/settings/account.html.erb
                                            tolto il campo "provider".  cambiare il provider "greenlight" richiede di modificare più punti e non c'è ragione di mostrarlo all'utente che non può modificarlo )
                                            aggiunto style per migliorare rendering dell'immagine di profilo su mobile
                                            aggiunta immagine avatar di default
                                            
app/views/layouts/application.html.erb   (aggiunti metatags, sistemato link ad /info)

app/views/rooms/components/_room_event.html.erb   (prima app/views/shared/rooms/_room_event.html.erb inserito warning)
app/views/rooms/show.html.erb                     (inserito warning, ridotte dimensioni nome sale e bottone entra in riunione)




DA VERIFICARE

in app/views/main/index.html.erb  verificare un pezzo di script in gl se serve ancora.
in app/components/shared/_features.html.erb completare bottoni social

verificare se servono ancora:

app/views/users/new.html.erb  vedere se serve ancora    (migliorata leggibilità e responsiveness cambiando il div del form, aggiunto mb-2 nei pulsanti per dare margine bottom quando si stringe la pagina)
app/views/shared/rooms/_room_event.html.erb   (diviso form su due righe e modificata larghezza colonne e inserito warning)
app/views/rooms/join.html.erb                 (diviso input e bottone su due righe per migliorare rendering)


per gestire /b ma forse non serve
env                                   (impostate costanti per mailer e rewrited_host)
app/controllers/application_controller.rb       modificata chiamata request.base_url)   
app/controllers/password_reset_controller.rb   (modificata chiamata request.base_url)
app/controllers/user_controller.rb             (modificata chiamata request.base_url)

app/views/user_mailer/password_reset.html.erb
app/views/user_mailer/password_reset.text.erb

app/views/users/verify.html.erb               (modificati messaggi di verifica mail)

.env   (inserire allow_mail_verification true e mail_sender)

app/views/shared/settings/_account.html.erb (ottimizzato layout per mobile)

versione 1.0.5 modifiche dal 15/02/2019 al 15/02/2019 su versione master (greenlight release 2.0.5)

app/views/shared/settings/_account.html.erb (ottimizzato layout per mobile)
app/views/users/terms.html.erb              (sistemata responsiveness del layout)

app/views/shared/_sessions.html.erb         (sistemato scroll tabella per mobile)


versione 1.0.4 modifiche dal 04/02/2019 al 14/02/2019 su versione master (greenlight release 2.0.5)

app/controllers/application_controller.rb   (impostata "it" come lingua di default)

app/models/user.rb                    (aggiunta mail utente obbligatoria nelle regole di validazione, non può essere blank)


nel db è previsto un campo dove mettere l'url della immagine, ma devo capire come caricarla


Jenkinsfile               (def appName = 'Riunioni' e def greenlightVersion = 'v1')




